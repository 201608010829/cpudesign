# 汇编器实验报告

班级：智能1602

学号：201608010624

姓名：牟清华

## 实验目标

设计一个RISC-V基本整数指令汇编器，能够实现将汇编指令转化为二进制

## 实验要求

- 汇编器的输入是进行模拟的汇编指令
- 汇编器的输出是经过汇编后的二进制指令文件

## 实验内容

### 汇编器简介

> 汇编器是将汇编语言翻译为机器语言的程序。一般而言，汇编生成的是目标代码，需要经链接器生成可执行代码才可以执行

> 汇编语言是一种以处理器指令系统为基础的低级语言，采用助记符表达指令操作码，采用标识符表示指令操作数。作为一门语言，对应于高级语言的编译器，需要一个汇编器将汇编语言原文件汇编成机器可执行的代码

### RISC-V指令集介绍

> **RV32I指令集包含了六种基本指令格式，分别是：**

> R类型指令：用于寄存器到寄存器操作

> I类型指令：用于短立即数和访存load操作

> S类型指令：用于访存store操作

> B类型指令：用于条件跳转操作

> U类型指令：用于长立即数

> J类型指令：用于无条件跳转

> **RISC-V指令集编码格式**

> ![](https://github.com/luojike/cpudesign/tree/master/2019/fall/牟清华/RV32I.PNG)

> **RISC-V指令**

>![](https://github.com/luojike/cpudesign/tree/master/2019/fall/牟清华/RV32_1.PNG)

>![](https://github.com/luojike/cpudesign/tree/master/2019/fall/牟清华/RV32_2.PNG)

## 测试

### 测试平台

|模块|配置|备注|
|:--:|:--:|:--:|
|CPU|Core i5-6700U||
|操作系统|Windows10 专业版||
|运行环境|python 3.6||

###测试结果

输入：

'''text
ADD r3,r1,r2
SUB r3,r1,r2
XOR r3,r1,r2
OR r3,r1,r2
AND r3,r1,r2
SLL r3,r1,r2
SRL r3,r1,r2
SRA r3,r1,r2
SLT r3,r1,r2
SLTU r3,r1,r2
LB r2,r1,10
LH r2,r1,10
LW r2,r1,10
LBU r2,r1,10
LHU r2,r1,10
ADDI r2,r1,10
SLTI r2,r1,10
SLTIU r2,r1,10
XORI r2,r1,10
ORI r2,r1,10
ADDI r2,r1,10
SLLI r2,r1,10
SRLI r2,r1,10
SRAI r2,r1,10
SB r1,r2,36
SH r1,r2,36
SW r1,r2,36
LUI r1,200
AUIPC r1,200
BEQ r1,r2,200
BNE r1,r2,200
BLT r1,r2,200
BGE r1,r2,200
BLTU r1,r2,200
BGEU r1,r2,200
JAL r1,100
JALR r2,r1,10
'''

输出：

'''text
00000000001000001000000110110011
01000000001000001000000110110011
00000000001000001100000110110011
00000000001000001110000110110011
00000000001000001111000110110011
00000000001000001001000110110011
00000000001000001101000110110011
01000000001000001101000110110011
00000000001000001010000110110011
00000000001000001011000110110011
00000000101000001000000100000011
00000000101000001001000100000011
00000000101000001010000100000011
00000000101000001100000100000011
00000000101000001101000100000011
00000000101000001000000100010011
00000000101000001010000100010011
00000000101000001011000100010011
00000000101000001100000100010011
00000000101000001110000100010011
00000000101000001000000100010011
00000000101000001001000100010011
00000000101000001101000100010011
01000000101000001101000100010011
00000010001000001000001000100011
00000010001000001001001000100011
00000010001000001010001000100011
00000000000011001000000010110111
00000000000011001000000010010111
00011000001000001000100001100011
00011000001000001001100001100011
00011000001000001100100001100011
00011000001000001101100001100011
00011000001000001110100001100011
00011000001000001111100001100011
00001100100000000000000011101111
00000110010000001000000101100111
'''

